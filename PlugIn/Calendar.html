<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>日历</title>
</head>
<body>

<div >

    <style>

        .bg-favicon {
            width: 32px; height: 32px;
            background: url('css_sprites.png') -313px -140px;
        }


        .bg-logo {
            width: 216px; height: 58px;
            background: url('css_sprites.png') -313px -10px;
        }

        .bg-main {
            width: 260px; height: 283px;
            background: url('css_sprites.png') -9px -9px;
        }

        .bg-logo_dark {
            width: 210px; height: 32px;
            background: url('css_sprites.png') -313px -88px;
        }

        .m{
            margin: 12px;
        }

    </style>

    <div class="bg-favicon m">
    </div>

    <div class="bg-logo_dark m">
    </div>

    <div class="bg-main m">
    </div>

    <div class="bg-logo m">
    </div>

</div>

<script>
    function isLeap(year) {
        return year % 4 == 0 ? (year % 100 != 0 ? 1 : (year % 400 == 0 ? 1 : 0)) : 0;
    }

    var i, k,
        today = new Date(),//获取当前日期
        y = today.getFullYear(),//获取日期中的年份
        m = today.getMonth(),//获取日期中的月
        d = today.getDate(),//获取日期中的日
        firstDay = new Date(y, m, 1),//获取当月的第一天
        dayOfWeek = firstDay.getDay(),//判断第一天是星期几

        days_per_month = new Array(31, 28 + isLeap(y), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31),         //创建月份数组
        str_nums = 6;          //表格行数
    document.write("<table cellspacing='0'><tr><th>日</th><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th>六</th></tr>"); //打印表格第一行(显示星期)
    for (i = 0; i < str_nums; i += 1) {         //二维数组创建日期表格
        document.write('<tr>');
        for (k = 0; k < 7; k++) {
            var idx = 7 * i + k;                //为每个表格创建索引,从0开始
            var date = idx - dayOfWeek + 1;          //将当月的1号与星期进行匹配
            (date <= 0 || date > days_per_month[m]) ? date = ' ' : date = idx - dayOfWeek + 1;  //索引小于等于0或者大于月份最大值就用空表格代替
            /*date = document.write('<td>'+ date + '</td>');//  显示日期*/
            date == d ? document.write('<td class="today" style="color: red">' + date + '</td>') : document.write('<td>' + date + '</td>');  //高亮显示当天
        }
        document.write('</tr>');
    }
    document.write('</table>');
</script>
</body>
</html>